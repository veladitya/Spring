

<h1>User Registration</h1>

<div ng-controller="register" >
	<div ng-show="actionStatus == 'Successful' " class="alert alert-success">Registration successful!</div>
	<div ng-show="actionStatus == 'UnSuccessful' " class="alert alert-danger">Registration unsuccessful!</div>
	
	<form class="form-horizontal registrationForm">
		<div class="form-group">
			<label for="inputEmail3" class="col-sm-2 control-label">Name</label>
			<div class="col-sm-10">
				<input type="text" name="name" ng-model="registerForm.name" class="form-control" /> 
			</div>
		</div>
		<div class="form-group">
			<label for="inputEmail3" class="col-sm-2 control-label">Email</label>
			<div class="col-sm-10">
				<input type="text" name="email" ng-model="registerForm.email" class="form-control" /> 
			</div>
		</div>
        <div class="form-group">
			<label for="inputPassword3" class="col-sm-2 control-label">Password</label>
			<div class="col-sm-10">
				<input type="password" name="password" ng-model="registerForm.password" class="form-control" /> 
			</div>
		</div>
		<div class="form-group">
			<label for="inputPassword3" class="col-sm-2 control-label">Confirm Password</label>
			<div class="col-sm-10">
				<input type="text" name="confirmPassword" ng-model="registerForm.confirmPassword" class="form-control" /> 
			</div>
		</div>
		<div class="form-group">
			<label for="inputPassword3" class="col-sm-2 control-label">Role</label>
			<div class="col-sm-10">
				<select class="form-control" name="userRole" ng-model="registerForm.userRole">
				    <option value="ROLE_ADMIN" selected="selected">Admin</option>
				    <option value="ROLE_USER">User</option>
				</select>
			</div>
		</div>
		
		

		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<!-- <button type="submit" class="btn btn-default" ng-click="register.saveUser()">Sign in</button> -->
				<input type="submit" value="submit" ng-click="saveUser()" ></input>
			</div>
		</div>
    </form>
</div>
<!-- <form:form commandName="user" class="form-horizontal registrationForm">
	<c:if test="${param.success eq true }">
		<div class="alert alert-success">Registration successful!</div>
	</c:if>
	<div class="form-group">
		<label for="inputEmail3" class="col-sm-2 control-label">Name</label>
		<div class="col-sm-10">
			<form:input path="name" cssClass="form-control" />
			<form:errors path="name" />
		</div>
	</div>
	<div class="form-group">
		<label for="inputEmail3" class="col-sm-2 control-label">Email</label>
		<div class="col-sm-10">
			<form:input path="email" cssClass="form-control" />
			<form:errors path="email" />
		</div>
	</div>
	<div class="form-group">
		<label for="inputPassword3" class="col-sm-2 control-label">Password</label>
		<div class="col-sm-10">
			<form:password path="password" cssClass="form-control" />
			<form:errors path="password" />
		</div>
	</div>
	<div class="form-group">
		<label for="inputPassword3" class="col-sm-2 control-label">Confirm Password</label>
		<div class="col-sm-10">
			<input type="text" name="confirmPassword" class="form-control" />
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-10">
			<button type="submit" class="btn btn-default">Sign in</button>
		</div>
	</div>
</form:form> -->

<script type="text/javascript">
	$(document).ready(
			function() {
			var validClass = "has-success";
			var errorClass = "has-error";
				$(".registrationForm").validate(
						{
							rules : {
								name : {
									required : true,
									minlength : 3,
									remote: {
										url: './available',
										type: "get",
										data: {
											
										}
									}
								},
								email : {
									required : true,
									email : true
								},
								password : {
									required : true,
									minlength : 5
								},
								/* confirmPassword : {
									required : true,
									minlength : 5,
									equalTo : "#password"
								} */
							},
							highlight : function(element) {
								$(element).closest('.form-group').addClass(errorClass).removeClass(validClass);
							},
							unhighlight : function(element) {
								$(element).closest('.form-group').removeClass(errorClass).addClass(validClass);
							},
							messages: {
								name: {
									remote: "User name already exits..!"
								}
							}

						});
			});
</script>

<!-- highlight: function(element){ $(element).closest('.form-group').removeClass('has-success').addClass('has-error'); },
unhighlight: function(element){ $(element).closest('.form-group').removeClass('has-error').addClass('has-success'); }
 -->